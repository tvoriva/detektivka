<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title>Telefon√°t</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: #1c1c1c;
      padding: 30px;
      border-radius: 10px;
      width: 420px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      text-align: center;
    }
    input, button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 10px;
    }
    #dialogBox {
      margin-top: 20px;
      min-height: 120px;
      cursor: pointer;
      white-space: pre-line;
    }
    .hint {
      font-size: 12px;
      color: #aaa;
      margin-top: 5px;
    }
    .error {
      color: #ff5555;
    }
    #continueBtn {
      display: none;
      background: #2ecc71;
      border: none;
      cursor: pointer;
    }
    p {
      color: #ff5555;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Vytoƒçit ƒç√≠slo</h1>
    <p> Pros√≠m pi≈°te bez mezer!</p>

    <input type="text" id="phoneInput" placeholder="Zadej telefonn√≠ ƒç√≠slo" />
    <button onclick="startCall()">Zavolat</button>

    <div id="dialogBox"></div>
    <div id="hint" class="hint"></div>

    <!-- ‚úÖ TLAƒå√çTKO PO SKONƒåEN√ç HOVORU -->
    <button id="continueBtn" onclick="goNext()">Pokraƒçovat</button>
  </div>

  <!-- üîä Zvuk vyzv√°nƒõn√≠ -->
  <audio id="ringtone" loop>
    <source src="ringtone.mp3" type="audio/mpeg">
  </audio>

  <script>
    const correctNumber = "782459752";

    const dialog = [
  "*vyzv√°nƒõn√≠‚Ä¶*",
  "Bob: Dobr√Ω den, tady McAlister",
  "Ty: Dobr√Ω den pane, m√°m pro v√°s p√°r ot√°zek",
  "Bob: Ano, r√°d v√°m odpov√≠m, jen mi pros√≠m ≈ôeknƒõte, kdo jste",
  "Ty: Jsem detektiv Mike Smith, agent ze spoleƒçnosti CyberAgent",
  "Bob: Ok, dƒõkuji, ptejte se",
  "Ty: Neukradl v√°m nƒõkdo IP adresu?",
  "Bob: Ano, vƒçera mi nƒõjak√Ω ƒçlovƒõk ukradl IP adresu üò≠",
  "Ty: M√°te tu≈°en√≠ jak?",
  "Bob: Stahoval jsem nƒõjakou aplikaci a najednou mi zamrzl poƒç√≠taƒç",
  "Ty: V√≠te, jak se jmenovala ta aplikace?",
  "Bob: Proƒç se pt√°te?",
  "Ty: Mohl bych zjistit vydavatele a naj√≠t va≈°i IP adresu",
  "Bob: To by bylo super, jmenovala se nƒõjak: Galcut",
  "Ty: Dƒõkuji, to hodnƒõ pom≈Ø≈æe",
  "Bob: Nem√°te zaƒç",
  "*hovor ukonƒçen*"
];


    let dialogIndex = 0;

    const dialogBox = document.getElementById("dialogBox");
    const hint = document.getElementById("hint");
    const ringtone = document.getElementById("ringtone");
    const continueBtn = document.getElementById("continueBtn");

    function startCall() {
      const input = document.getElementById("phoneInput").value.trim();
      dialogBox.classList.remove("error");
      continueBtn.style.display = "none";

      if (input !== correctNumber) {
        dialogBox.textContent = "ƒå√≠slo neexistuje nebo je nedostupn√©.";
        dialogBox.classList.add("error");
        hint.textContent = "";
        return;
      }

      dialogIndex = 0;
      dialogBox.textContent = "Klikni pro pokraƒçov√°n√≠ hovoru";
      hint.textContent = "(klikni do dialogu)";
      ringtone.play();
    }

    dialogBox.addEventListener("click", () => {
      if (dialogIndex >= dialog.length) return;

      dialogBox.textContent = dialog[dialogIndex];

      if (dialogIndex === 0) {
        ringtone.pause();
        ringtone.currentTime = 0;
      }

      dialogIndex++;

      if (dialogIndex === dialog.length) {
        hint.textContent = "Hovor skonƒçil";
        continueBtn.style.display = "block";
      }
    });

    function goNext() {
      window.location.href = "https://tvoriva.github.io/detektivka/pressure.html";
    }
  </script>
</body>
</html>
